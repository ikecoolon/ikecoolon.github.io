---
title: PC端视频监控模块一稿
date: 2025-05-28 16:00:00
type: charging-products
tags: ['充电监控', 'PC端', '运维',]
---

# PC端视频监控模块

## 1. 功能描述

本模块旨在为用户提供便捷高效的场站视频监控能力，支持实时查看、历史回放、录像下载及智能预警。考虑到不同用户角色的使用习惯和关注重点，系统将提供差异化的主入口视图。

### 1.1 数据概览 (仅作为运维主入口参考)

考虑到运维人员需要总览系统整体状态，其主入口页面可能包含以下数据概览：

*   **设备在线状态：** 在线摄像头数量 / 总摄像头数量，突出显示异常（离线）设备列表。
*   **存储空间使用：** 总存储空间使用率，重要场站或异常场站的存储空间使用详情。
*   **近期告警汇总：** 系统告警（如设备离线、存储空间满）和智能预警的分类及数量统计。

### 1.2 用户角色与主要入口差异

考虑到商户和运维用户在视频监控上的关注点和使用目标不同，主入口页面将进行差异化设计：

*   **商户主入口：** 聚焦于其负责的特定场站，提供"我的场站"列表，方便快速进入场站详情查看实时画面和历史录像。设计追求简洁、直观、易操作。
*   **运维主入口：** 提供全局视角，以仪表盘形式展示系统整体运行状态、设备在线情况、存储资源使用和各类告警信息，便于监控和管理所有场站。设计追求信息全面、突出异常、管理便捷。

进入具体的"场站详情页"后，核心的视频监控功能模块将以统一的方式呈现。

### 1.3 核心功能详情 (在场站详情页内)

用户从主入口选择特定场站进入其详情页后，可使用以下核心视频监控功能：

#### 1.3.1 实时监控 (Real-time Monitoring)

*   **功能描述：** 展示该场站下的所有摄像头列表，用户选择其中一个摄像头后，即可查看其实时的视频画面。为减轻后端压力，系统仅支持单路摄像头的实时视频播放。
*   **详细功能点：**
    *   展示场站下的摄像头名称、编号及状态。
    *   点击摄像头列表项，加载并播放该摄像头的实时视频流。
    *   提供播放/暂停、全屏、音量控制等操作。
    *   支持在摄像头列表间快速切换查看不同的实时画面。

#### 1.3.2 历史回顾 (Historical Playback)

*   **功能描述：** 用户选择该场站下的某个摄像头和时间段，系统展示该时间段的录像时间轴。用户可在时间轴上选择时段进行录像回放。系统仅支持单路摄像头的历史录像回放。同时，向用户展示当前场站的云存储状态，帮助理解可回放的录像时长范围。
*   **详细功能点：**
    *   提供摄像头选择和时间段选择器（支持开始时间和结束时间选择）。
    *   **时间段限制：用户可以在时间段选择器中选择不超过2小时的时段进行单路历史录像回放，该时段可跨天。**
    *   **实时验证：** 系统实时验证选择的时间段长度，超过2小时时给予提示并禁用查询按钮，确保用户选择有效的时间范围。
    *   可视化展示选定时间段内有录像的时间段（时间轴），清晰标识有录像的时间段和空白时间段。
    *   提供播放/暂停、快进/慢放、逐帧、时间点跳转、**倍速播放 (如0.5x, 1x, 2x)** 等回放控制。
    *   **当前播放位置指示：** 在时间轴上显示当前播放位置的实时指示器，帮助用户了解播放进度。
    *   展示云存储状态：在回放界面或场站详情页显著位置，显示总存储空间、已用空间、剩余空间，并说明当前存储预计可保留的历史录像时长。

#### 1.3.3 录像下载 (Video Download)

*   **功能描述：** 在历史回放界面，用户可以选择需要下载的录像片段的起止时间，并将该片段从云端下载到本地。下载需基于已选定的摄像头和录像时段。
*   **详细功能点：**
    *   在历史回放界面提供下载按钮。
    *   **云端下载流程说明：** 点击下载按钮时，系统首先显示云端下载流程说明弹窗，向用户解释下载分为两个步骤：1) 云端下载到队列，2) 从队列下载到本地。
    *   **精确时间选择：** 用户确认下载流程后，系统展示精确的时间轴选择器，支持以下操作：
        *   **拖拽选择：** 用户可以在当前正在回放的时段的时间轴上拖拽选择具体的下载片段。
        *   **手动输入：** 提供开始时间和结束时间输入框，用户可以手动输入精确的时间点。
        *   **实时反馈：** 显示选中片段的时长、预计文件大小等信息。
    *   **用户可以在当前正在回放的时段中，选择一个片段发起云端下载任务。**
    *   允许用户精确选择下载录像的起止时间段，精确到分钟级别。
    *   发起下载任务，并提供下载任务列表及进度显示。
    *   **下载任务将加入云端下载队列，目前仅支持单任务运行，多余的任务将自动排队等待。**
    *   **云端下载任务完成后，用户才可以将录像文件下载到本地。**
    *   下载操作会消耗流量，考虑在流量余额不足时进行提示。

#### 1.3.4 智能预警 (Intelligent Alerting)

*   **功能描述：** 基于后端的定时截图能力（以及未来可能集成的图像识别），系统生成并展示与该场站相关的智能预警信息。
*   **详细功能点：**
    *   列出该场站下发生的预警事件（如：疑似火情、异常闯入等）。
    *   查看预警事件详情，包括发生时间、关联摄像头、触发原因（如截图）。
    *   可快速跳转查看触发预警时的截图或关联的录像片段。
    *   定时截图占用的存储空间会计入场站总云存储空间。

#### 1.3.5 场站云存储与流量状态 (Site Cloud Storage & Traffic Status)

*   **功能描述：** 在场站详情页显著位置，清晰展示与该场站视频监控相关的云存储和流量资源使用情况，帮助用户了解资源消耗和限制。
*   **详细功能点：**
    *   **云存储空间：** 显示该场站的总分配存储空间、已使用空间、剩余空间，以及已用空间的比例。可以区分录像和截图各自占用的空间（如果后端支持）。
    *   **流量使用：** 显示该场站的总分配流量、已使用流量、剩余流量（如果适用）。
    *   **资源影响说明：** 简要说明存储空间决定历史录像的保留时长，流量影响视频查看和下载。
    *   提供存储或流量不足时的醒目提示。

## 2. 用户场景

*(待补充 - 可在此详细描述商户和运维各自的典型使用场景)*

## 3. 业务规则

*(待补充 - 可在此详细说明下载前需选择时段、权限控制等规则)*

## 4. 交互流程

*(待补充 - 需结合原型设计详细说明关键操作流程)*

## 5. 非功能性需求

*(待补充 - 需考虑性能、安全性、稳定性等)*

## 6. 上线标准

*(待补充)*